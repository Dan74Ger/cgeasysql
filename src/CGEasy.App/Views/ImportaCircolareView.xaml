<UserControl x:Class="CGEasy.App.Views.ImportaCircolareView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             mc:Ignorable="d" 
             d:DesignHeight="800" d:DesignWidth="1200">

    <Grid Margin="20">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>

        <!-- HEADER -->
        <StackPanel Grid.Row="0" Margin="0,0,0,30">
            <TextBlock Text="ðŸ“¤ Importa Circolare" 
                      FontSize="28" 
                      FontWeight="Bold" 
                      Foreground="#2c3e50"/>
            <TextBlock Text="Carica un nuovo documento classificandolo per argomento e anno" 
                      FontSize="14" 
                      Foreground="#7f8c8d" 
                      Margin="0,5,0,0"/>
        </StackPanel>

        <!-- FORM IMPORTAZIONE -->
        <Border Grid.Row="1" 
                Background="White" 
                BorderBrush="#dee2e6" 
                BorderThickness="1" 
                CornerRadius="8" 
                Padding="30"
                VerticalAlignment="Top"
                MaxWidth="800"
                HorizontalAlignment="Center">
            <StackPanel>
                <!-- Argomento -->
                <TextBlock Text="ðŸ“‚ Argomento *" 
                          FontSize="14" 
                          FontWeight="SemiBold" 
                          Foreground="#495057" 
                          Margin="0,0,0,8"/>
                <ComboBox ItemsSource="{Binding ArgomentiDisponibili}" 
                         SelectedItem="{Binding ArgomentoSelezionato}"
                         DisplayMemberPath="Nome"
                         FontSize="14" 
                         Padding="12,10" 
                         Margin="0,0,0,20"
                         ToolTip="Seleziona la categoria della circolare"/>

                <!-- Descrizione -->
                <TextBlock Text="ðŸ“ Descrizione *" 
                          FontSize="14" 
                          FontWeight="SemiBold" 
                          Foreground="#495057" 
                          Margin="0,0,0,8"/>
                <TextBox Text="{Binding Descrizione, UpdateSourceTrigger=PropertyChanged}" 
                        FontSize="14" 
                        Padding="12,10" 
                        Height="100"
                        TextWrapping="Wrap"
                        AcceptsReturn="True"
                        VerticalScrollBarVisibility="Auto"
                        Margin="0,0,0,20"
                        MaxLength="500"
                        ToolTip="Descrizione della circolare"/>

                <!-- Anno -->
                <TextBlock Text="ðŸ“… Anno *" 
                          FontSize="14" 
                          FontWeight="SemiBold" 
                          Foreground="#495057" 
                          Margin="0,0,0,8"/>
                <TextBox Text="{Binding Anno, UpdateSourceTrigger=PropertyChanged}" 
                        FontSize="14" 
                        Padding="12,10" 
                        Margin="0,0,0,20"
                        MaxLength="4"
                        ToolTip="Anno di riferimento (es: 2024)"/>

                <!-- File -->
                <TextBlock Text="ðŸ“Ž File *" 
                          FontSize="14" 
                          FontWeight="SemiBold" 
                          Foreground="#495057" 
                          Margin="0,0,0,8"/>
                <Grid Margin="0,0,0,30">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="Auto"/>
                    </Grid.ColumnDefinitions>

                    <Border Grid.Column="0" 
                           Background="#f8f9fa" 
                           BorderBrush="#ced4da" 
                           BorderThickness="1" 
                           CornerRadius="4" 
                           Padding="12,10">
                        <TextBlock Text="{Binding NomeFileSelezionato}" 
                                  FontSize="13" 
                                  Foreground="#6c757d" 
                                  VerticalAlignment="Center"
                                  TextTrimming="CharacterEllipsis"/>
                    </Border>

                    <Button Grid.Column="1" 
                           Content="ðŸ“ Sfoglia" 
                           Command="{Binding SelezionaFileCommand}"
                           Background="#3498db" 
                           Foreground="White" 
                           Padding="20,10" 
                           FontSize="13" 
                           FontWeight="SemiBold"
                           BorderThickness="0"
                           Margin="10,0,0,0"
                           Cursor="Hand">
                        <Button.Style>
                            <Style TargetType="Button" BasedOn="{StaticResource {x:Type Button}}">
                                <Setter Property="Background" Value="#3498db"/>
                                <Style.Triggers>
                                    <Trigger Property="IsMouseOver" Value="True">
                                        <Setter Property="Background" Value="#2980b9"/>
                                    </Trigger>
                                </Style.Triggers>
                            </Style>
                        </Button.Style>
                    </Button>
                </Grid>

                <!-- Info formati supportati -->
                <TextBlock FontSize="12" 
                          Foreground="#6c757d" 
                          Margin="0,0,0,25"
                          TextWrapping="Wrap">
                    <Run Text="â„¹ï¸ Formati supportati: PDF (*.pdf), Word (*.doc, *.docx), Excel (*.xls, *.xlsx)"/>
                </TextBlock>

                <!-- Pulsanti -->
                <StackPanel Orientation="Horizontal" HorizontalAlignment="Right">
                    <Button Content="ðŸ“¤ Importa" 
                           Command="{Binding ImportaCircolareCommand}"
                           Background="#27ae60" 
                           Foreground="White" 
                           Padding="30,12" 
                           FontSize="14" 
                           FontWeight="Bold"
                           BorderThickness="0"
                           Margin="0,0,15,0"
                           Cursor="Hand">
                        <Button.Style>
                            <Style TargetType="Button" BasedOn="{StaticResource {x:Type Button}}">
                                <Setter Property="Background" Value="#27ae60"/>
                                <Style.Triggers>
                                    <Trigger Property="IsMouseOver" Value="True">
                                        <Setter Property="Background" Value="#229954"/>
                                    </Trigger>
                                </Style.Triggers>
                            </Style>
                        </Button.Style>
                    </Button>

                    <Button Content="ðŸ”„ Reset" 
                           Command="{Binding ResetCommand}"
                           Background="#95a5a6" 
                           Foreground="White" 
                           Padding="30,12" 
                           FontSize="14" 
                           FontWeight="SemiBold"
                           BorderThickness="0"
                           Cursor="Hand">
                        <Button.Style>
                            <Style TargetType="Button" BasedOn="{StaticResource {x:Type Button}}">
                                <Setter Property="Background" Value="#95a5a6"/>
                                <Style.Triggers>
                                    <Trigger Property="IsMouseOver" Value="True">
                                        <Setter Property="Background" Value="#7f8c8d"/>
                                    </Trigger>
                                </Style.Triggers>
                            </Style>
                        </Button.Style>
                    </Button>
                </StackPanel>
            </StackPanel>
        </Border>
    </Grid>
</UserControl>

