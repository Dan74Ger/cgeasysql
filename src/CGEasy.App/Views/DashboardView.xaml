<UserControl x:Class="CGEasy.App.Views.DashboardView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
             xmlns:ui="http://schemas.modernwpf.com/2019"
             xmlns:vm="clr-namespace:CGEasy.App.ViewModels"
             mc:Ignorable="d" 
             d:DesignHeight="700" d:DesignWidth="1000"
             Background="{DynamicResource SystemControlPageBackgroundChromeLowBrush}">

    <ScrollViewer VerticalScrollBarVisibility="Auto">
        <Grid Margin="40">
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="*"/>
            </Grid.RowDefinitions>

            <!-- Welcome Message -->
            <Border Grid.Row="0" 
                    Background="{DynamicResource SystemControlBackgroundAccentBrush}"
                    CornerRadius="8"
                    Padding="30,20"
                    Margin="0,0,0,30">
                <StackPanel>
                    <TextBlock Text="{Binding WelcomeMessage}" 
                               FontSize="28" 
                               FontWeight="SemiBold" 
                               Foreground="White"/>
                    <TextBlock Text="Benvenuto nel sistema di gestione CG Easy" 
                               FontSize="14" 
                               Foreground="White"
                               Opacity="0.9"
                               Margin="0,5,0,0"/>
                </StackPanel>
            </Border>

            <!-- Statistics Cards -->
            <Grid Grid.Row="1" Margin="0,0,0,30">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="*"/>
                </Grid.ColumnDefinitions>

                <!-- Card 1: Clienti -->
                <Border Grid.Column="0" 
                        Background="White"
                        CornerRadius="8"
                        Padding="25,20"
                        Margin="0,0,15,0"
                        ui:ThemeManager.HasThemeResources="True">
                    <ui:ThemeManager.RequestedTheme>
                        <ui:ElementTheme>Light</ui:ElementTheme>
                    </ui:ThemeManager.RequestedTheme>
                    <StackPanel>
                        <TextBlock Text="ðŸ‘¥" FontSize="32" Margin="0,0,0,10"/>
                        <TextBlock Text="{Binding TotalClienti}" 
                                   FontSize="36" 
                                   FontWeight="Bold"
                                   Foreground="#007ACC"/>
                        <TextBlock Text="Clienti Totali" 
                                   FontSize="14" 
                                   Foreground="Gray"
                                   Margin="0,5,0,0"/>
                    </StackPanel>
                </Border>

                <!-- Card 2: Professionisti -->
                <Border Grid.Column="1" 
                        Background="White"
                        CornerRadius="8"
                        Padding="25,20"
                        Margin="0,0,15,0"
                        ui:ThemeManager.HasThemeResources="True">
                    <ui:ThemeManager.RequestedTheme>
                        <ui:ElementTheme>Light</ui:ElementTheme>
                    </ui:ThemeManager.RequestedTheme>
                    <StackPanel>
                        <TextBlock Text="ðŸ‘”" FontSize="32" Margin="0,0,0,10"/>
                        <TextBlock Text="{Binding TotalProfessionisti}" 
                                   FontSize="36" 
                                   FontWeight="Bold"
                                   Foreground="#00B294"/>
                        <TextBlock Text="Professionisti" 
                                   FontSize="14" 
                                   Foreground="Gray"
                                   Margin="0,5,0,0"/>
                    </StackPanel>
                </Border>

                <!-- Card 3: Utenti -->
                <Border Grid.Column="2" 
                        Background="White"
                        CornerRadius="8"
                        Padding="25,20"
                        ui:ThemeManager.HasThemeResources="True">
                    <ui:ThemeManager.RequestedTheme>
                        <ui:ElementTheme>Light</ui:ElementTheme>
                    </ui:ThemeManager.RequestedTheme>
                    <StackPanel>
                        <TextBlock Text="ðŸ”" FontSize="32" Margin="0,0,0,10"/>
                        <TextBlock Text="{Binding TotalUtenti}" 
                                   FontSize="36" 
                                   FontWeight="Bold"
                                   Foreground="#E81123"/>
                        <TextBlock Text="Utenti Sistema" 
                                   FontSize="14" 
                                   Foreground="Gray"
                                   Margin="0,5,0,0"/>
                    </StackPanel>
                </Border>
            </Grid>

            <!-- Info Section -->
            <Border Grid.Row="2" 
                    Background="White"
                    CornerRadius="8"
                    Padding="30,25"
                    Margin="0,0,0,30"
                    ui:ThemeManager.HasThemeResources="True">
                <ui:ThemeManager.RequestedTheme>
                    <ui:ElementTheme>Light</ui:ElementTheme>
                </ui:ThemeManager.RequestedTheme>
                <StackPanel>
                    <TextBlock Text="â„¹ï¸ Informazioni Sistema" 
                               FontSize="20" 
                               FontWeight="SemiBold"
                               Margin="0,0,0,20"/>

                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="Auto"/>
                            <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                        </Grid.RowDefinitions>

                        <TextBlock Grid.Row="0" Grid.Column="0" 
                                   Text="Versione:" 
                                   FontWeight="SemiBold"
                                   Margin="0,0,15,10"/>
                        <TextBlock Grid.Row="0" Grid.Column="1" 
                                   Text="CG Easy v2.0.0"
                                   Margin="0,0,0,10"/>

                        <TextBlock Grid.Row="1" Grid.Column="0" 
                                   Text="Database:" 
                                   FontWeight="SemiBold"
                                   Margin="0,0,15,10"/>
                        <TextBlock Grid.Row="1" Grid.Column="1" 
                                   Text="LiteDB (NoSQL)"
                                   Margin="0,0,0,10"/>

                        <TextBlock Grid.Row="2" Grid.Column="0" 
                                   Text="Percorso DB:" 
                                   FontWeight="SemiBold"
                                   Margin="0,0,15,10"/>
                        <TextBlock Grid.Row="2" Grid.Column="1" 
                                   Text="{Binding DatabasePath}"
                                   TextWrapping="Wrap"
                                   Margin="0,0,0,10"/>

                        <TextBlock Grid.Row="3" Grid.Column="0" 
                                   Text="Stato:" 
                                   FontWeight="SemiBold"
                                   Margin="0,0,15,0"/>
                        <TextBlock Grid.Row="3" Grid.Column="1" 
                                   Text="âœ… Sistema operativo"
                                   Foreground="Green"/>
                    </Grid>
                </StackPanel>
            </Border>

            <!-- Quick Start Guide -->
            <Border Grid.Row="3" 
                    Background="White"
                    CornerRadius="8"
                    Padding="30,25"
                    ui:ThemeManager.HasThemeResources="True">
                <ui:ThemeManager.RequestedTheme>
                    <ui:ElementTheme>Light</ui:ElementTheme>
                </ui:ThemeManager.RequestedTheme>
                <StackPanel>
                    <TextBlock Text="ðŸš€ Guida Rapida" 
                               FontSize="20" 
                               FontWeight="SemiBold"
                               Margin="0,0,0,20"/>

                    <TextBlock TextWrapping="Wrap" FontSize="14" Margin="0,0,0,15">
                        <Run Text="Benvenuto in CG Easy! Per iniziare:" FontWeight="SemiBold"/>
                    </TextBlock>

                    <StackPanel Margin="20,0,0,0">
                        <TextBlock Text="1. ðŸ‘¥ Inserisci i tuoi Clienti e Professionisti dalle Anagrafiche" 
                                   FontSize="13" 
                                   Margin="0,0,0,10"
                                   TextWrapping="Wrap"/>
                        <TextBlock Text="2. ðŸ“‹ Utilizza il modulo TODO Studio per gestire le attivitÃ  quotidiane" 
                                   FontSize="13" 
                                   Margin="0,0,0,10"
                                   TextWrapping="Wrap"/>
                        <TextBlock Text="3. ðŸ’¼ Importa i Bilanci dei clienti per analizzarli" 
                                   FontSize="13" 
                                   Margin="0,0,0,10"
                                   TextWrapping="Wrap"/>
                        <TextBlock Text="4. ðŸ“„ Archivia Circolari e Documenti con ricerca full-text" 
                                   FontSize="13" 
                                   Margin="0,0,0,10"
                                   TextWrapping="Wrap"/>
                        <TextBlock Text="5. ðŸ“Š Monitora le performance con il Controllo di Gestione" 
                                   FontSize="13"
                                   TextWrapping="Wrap"/>
                    </StackPanel>

                    <Border Background="#FFF4CE" 
                            CornerRadius="6"
                            Padding="15"
                            Margin="0,20,0,0">
                        <StackPanel>
                            <TextBlock Text="ðŸ’¡ Suggerimento" 
                                       FontWeight="SemiBold" 
                                       FontSize="13"
                                       Margin="0,0,0,8"/>
                            <TextBlock Text="Utilizza la barra laterale per navigare tra i moduli. I moduli disponibili dipendono dalla tua licenza." 
                                       FontSize="12"
                                       TextWrapping="Wrap"/>
                        </StackPanel>
                    </Border>
                </StackPanel>
            </Border>
        </Grid>
    </ScrollViewer>
</UserControl>

